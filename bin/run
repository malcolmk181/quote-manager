#!/usr/bin/env ruby 
require_relative '../config/environment'

# binding.pry

# A welcome message called before the main menu loop
def welcome
    puts "Welcome to Quote Manager!"
    puts "- - - - - - - - - - - - -"
    puts "You have #{Quote.all.count} quotes, by #{Author.all.count} authors, in #{Topic.all.count} topics."
end

# The main menu
def main_prompt
    options = {
        0 => "View a random quote",
        1 => "Add a new quote",
        2 => "See all quotes",
        3 => "See all topics",
        4 => "See all authors"
    }
    
    # Prompt user for input and displays options
    puts
    puts "What would you like to do?"
    puts "Enter one of the following numbers, or X to quit."
    for index, command in options do
        puts "#{index}: #{command}"
    end

    input = gets.chomp.downcase

    # Handle input
    case input
    when "x", "q", "quit"
        exit
    when "0"
        random_quote()
    when "1"
        puts "to be implemented"
    when "2"
        all_quotes()
    when "3"
        all_topics()
    when "4"
        all_authors()
    else
        puts
        puts "I didn't recognize that command. Please try again."
        sleep(1)
    end

end

welcome()
while true
    main_prompt()
end